{% extends 'base.html' %}
{% block title %}Decks | Corvus{% endblock %}
{% block content %}
<div class="mx-auto max-w-4xl space-y-8">
    <section class="rounded border bg-white p-6 shadow-sm">
        <p class="text-xs uppercase tracking-wide text-gray-500">Workspace</p>
        <div class="mt-1 flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
            <div>
                <h1 class="text-2xl font-semibold text-gray-900">Decks & Presets</h1>
                <p class="text-sm text-gray-500">Keep your study surface calm: pin a preset, then dive into any deck.</p>
            </div>
            <a href="{% url 'review:today' %}" class="inline-flex items-center justify-center rounded bg-gray-900 px-4 py-2 text-sm font-semibold text-white hover:bg-gray-800">Open Today</a>
        </div>
    </section>

    <section class="rounded border bg-white p-6 shadow-sm space-y-3">
        <div>
            <h2 class="text-lg font-semibold text-gray-900">Custom study presets</h2>
            <p class="text-sm text-gray-500">Save the decks or tags you return to most often.</p>
        </div>
        {% include 'core/decks/partials/study_sets_panel.html' %}
    </section>

    <section class="rounded border bg-white p-6 shadow-sm space-y-4">
        <details class="rounded border border-dashed bg-gray-50 px-4 py-3 text-sm text-gray-600">
            <summary class="cursor-pointer text-sm font-semibold text-gray-700">Create deck</summary>
            <div class="mt-3">
                <form method="post" action="{% url 'decks:create' %}" hx-post="{% url 'decks:create' %}" hx-target="#deck-list" hx-swap="innerHTML">
                    {% include 'core/decks/partials/deck_form.html' %}
                </form>
            </div>
        </details>
        <div>
            <h2 class="text-lg font-semibold text-gray-900">Deck library</h2>
            <p class="text-sm text-gray-500">Open a deck to study or expand the tree to tidy names.</p>
        </div>
        <div id="deck-list">
            {% include 'core/decks/partials/deck_list.html' %}
        </div>
    </section>
</div>
{% endblock %}
